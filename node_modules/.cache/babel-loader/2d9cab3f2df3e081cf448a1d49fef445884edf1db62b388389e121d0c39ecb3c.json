{"ast":null,"code":"import _regeneratorRuntime from\"/home/iiitd/project/git/FCS/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _slicedToArray from\"/home/iiitd/project/git/FCS/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _asyncToGenerator from\"/home/iiitd/project/git/FCS/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useState}from'react';import'./Login.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function loginUser(_x,_x2){return _loginUser.apply(this,arguments);}function _loginUser(){_loginUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(username,password){var credentials,response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:credentials={username:username,password:password};_context2.next=3;return fetch('https://localhost:8080/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(credentials)});case 3:response=_context2.sent;if(response.ok){console.log('Request was made successfully.');}else{console.log('Request was not made successfully.');}return _context2.abrupt(\"return\",response.json());case 6:case\"end\":return _context2.stop();}},_callee2);}));return _loginUser.apply(this,arguments);}function getServerStatus(){return _getServerStatus.apply(this,arguments);}function _getServerStatus(){_getServerStatus=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch('https://localhost:8080/',{method:'GET',headers:{'Content-Type':'application/json'}});case 2:response=_context3.sent;if(response.ok){console.log('Request was made successfully.');}else{console.log('Request was not made successfully.');}return _context3.abrupt(\"return\",response.json());case 5:case\"end\":return _context3.stop();}},_callee3);}));return _getServerStatus.apply(this,arguments);}export default function Login(_ref){var setToken=_ref.setToken;var _useState=useState(),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUserName=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var status,token;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return getServerStatus();case 3:status=_context.sent;console.log(status);_context.next=7;return loginUser(username,password);case 7:token=_context.sent;setToken(token);case 9:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x3){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"login-wrapper\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Please Log Ins\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(e){return setUserName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"})})]})]});}","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","loginUser","_x","_x2","_loginUser","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","username","password","credentials","response","wrap","_callee2$","_context2","prev","next","fetch","method","headers","body","JSON","stringify","sent","ok","console","log","abrupt","json","stop","getServerStatus","_getServerStatus","_callee3","_callee3$","_context3","Login","_ref","setToken","_useState","_useState2","_slicedToArray","setUserName","_useState3","_useState4","setPassword","handleSubmit","_ref2","_callee","e","status","token","_callee$","_context","preventDefault","_x3","className","children","onSubmit","type","onChange","target","value"],"sources":["/home/iiitd/project/git/FCS/src/components/Login/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport './Login.css';\n\nasync function loginUser(username, password) {\n  const credentials = { username, password };\n  const response = await fetch('https://localhost:8080/login', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(credentials),\n  });\n\n  if (response.ok) {\n    console.log('Request was made successfully.');\n  } else {\n    console.log('Request was not made successfully.');\n  }\n\n  return response.json();\n}\n\n\nasync function getServerStatus() {\n  const response = await fetch('https://localhost:8080/', {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  });\n\n  if (response.ok) {\n    console.log('Request was made successfully.');\n  } else {\n    console.log('Request was not made successfully.');\n  }\n\n  return response.json();\n}\n\n\nexport default function Login({ setToken }) {\n  const [username, setUserName] = useState();\n  const [password, setPassword] = useState();\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const status = await getServerStatus();\n    console.log(status);\n    const token = await loginUser(username,password);\n    setToken(token);\n  }\n\n  return(\n    <div className=\"login-wrapper\">\n      <h1>Please Log Ins</h1>\n      <form onSubmit={handleSubmit}>\n        <label>\n          <p>Username</p>\n          <input type=\"text\" onChange={e => setUserName(e.target.value)} />\n        </label>\n        <label>\n          <p>Password</p>\n          <input type=\"password\" onChange={e => setPassword(e.target.value)} />\n        </label>\n        <div>\n          <button type=\"submit\">Submit</button>\n        </div>\n      </form>\n    </div>\n    \n  )\n}\n\nLogin.propTypes = {\n  setToken: PropTypes.func.isRequired\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}