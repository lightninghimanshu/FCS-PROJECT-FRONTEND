{"ast":null,"code":"import _regeneratorRuntime from\"/home/iiitd/project/git/FCS/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _slicedToArray from\"/home/iiitd/project/git/FCS/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _asyncToGenerator from\"/home/iiitd/project/git/FCS/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useState}from'react';import'./Login.css';import https from'https';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function loginUser(_x,_x2){return _loginUser.apply(this,arguments);}function _loginUser(){_loginUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(username,password){var credentials,response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:credentials={username:username,password:password};_context2.next=3;return fetch('https://localhost:8080/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(credentials),agent:new https.Agent({rejectUnauthorized:false})});case 3:response=_context2.sent;if(response.ok){console.log('Request was made successfully.');}else{console.log('Request was not made successfully.');}return _context2.abrupt(\"return\",response.json());case 6:case\"end\":return _context2.stop();}},_callee2);}));return _loginUser.apply(this,arguments);}function getServerStatus(){return _getServerStatus.apply(this,arguments);}function _getServerStatus(){_getServerStatus=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var response,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return fetch('https://localhost:8080/',{method:'GET',headers:{'Content-Type':'application/json'}});case 3:response=_context3.sent;if(!response.ok){_context3.next=13;break;}console.log('Request was made successfully.');_context3.next=8;return response.text();case 8:data=_context3.sent;// Parse JSON response\nconsole.log('Response data:',data);// Log the parsed data\nreturn _context3.abrupt(\"return\",data);case 13:console.log('Request was not made successfully.');return _context3.abrupt(\"return\",null);case 15:_context3.next=21;break;case 17:_context3.prev=17;_context3.t0=_context3[\"catch\"](0);console.error('An error occurred:',_context3.t0);return _context3.abrupt(\"return\",null);case 21:case\"end\":return _context3.stop();}},_callee3,null,[[0,17]]);}));return _getServerStatus.apply(this,arguments);}export default function Login(_ref){var setToken=_ref.setToken;var _useState=useState(),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUserName=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var status,token;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return getServerStatus();case 3:status=_context.sent;console.log(status);_context.next=7;return loginUser(username,password);case 7:token=_context.sent;setToken(token);case 9:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x3){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"login-wrapper\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Please Log Ins\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(e){return setUserName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"})})]})]});}","map":{"version":3,"names":["React","useState","https","jsx","_jsx","jsxs","_jsxs","loginUser","_x","_x2","_loginUser","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","username","password","credentials","response","wrap","_callee2$","_context2","prev","next","fetch","method","headers","body","JSON","stringify","agent","Agent","rejectUnauthorized","sent","ok","console","log","abrupt","json","stop","getServerStatus","_getServerStatus","_callee3","data","_callee3$","_context3","text","t0","error","Login","_ref","setToken","_useState","_useState2","_slicedToArray","setUserName","_useState3","_useState4","setPassword","handleSubmit","_ref2","_callee","e","status","token","_callee$","_context","preventDefault","_x3","className","children","onSubmit","type","onChange","target","value"],"sources":["/home/iiitd/project/git/FCS/src/components/Login/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport './Login.css';\nimport https from 'https';\n\nasync function loginUser(username, password) {\n  const credentials = { username, password };\n  const response = await fetch('https://localhost:8080/login', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(credentials),\n    agent: new https.Agent({\n      rejectUnauthorized: false\n    })\n  });\n\n  if (response.ok) {\n    console.log('Request was made successfully.');\n  } else {\n    console.log('Request was not made successfully.');\n  }\n\n  return response.json();\n}\n\n\nasync function getServerStatus() {\n  try {\n    const response = await fetch('https://localhost:8080/', {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n\n    if (response.ok) {\n      console.log('Request was made successfully.');\n      const data = await response.text(); // Parse JSON response\n      console.log('Response data:', data); // Log the parsed data\n      return data;\n    } else {\n      console.log('Request was not made successfully.');\n      return null;\n    }\n  } catch (error) {\n    console.error('An error occurred:', error);\n    return null;\n  }\n}\n\n\n\nexport default function Login({ setToken }) {\n  const [username, setUserName] = useState();\n  const [password, setPassword] = useState();\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const status = await getServerStatus();\n    console.log(status);\n    const token = await loginUser(username,password);\n    setToken(token);\n  }\n\n  return(\n    <div className=\"login-wrapper\">\n      <h1>Please Log Ins</h1>\n      <form onSubmit={handleSubmit}>\n        <label>\n          <p>Username</p>\n          <input type=\"text\" onChange={e => setUserName(e.target.value)} />\n        </label>\n        <label>\n          <p>Password</p>\n          <input type=\"password\" onChange={e => setPassword(e.target.value)} />\n        </label>\n        <div>\n          <button type=\"submit\">Submit</button>\n        </div>\n      </form>\n    </div>\n    \n  )\n}\n\nLogin.propTypes = {\n  setToken: PropTypes.func.isRequired\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}