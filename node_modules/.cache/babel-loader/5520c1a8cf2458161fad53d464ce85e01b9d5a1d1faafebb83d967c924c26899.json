{"ast":null,"code":"import _regeneratorRuntime from\"/home/iiitd/project/git/FCS/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _slicedToArray from\"/home/iiitd/project/git/FCS/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _asyncToGenerator from\"/home/iiitd/project/git/FCS/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useState}from'react';import'./Login.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function loginUser(_x,_x2){return _loginUser.apply(this,arguments);}function _loginUser(){_loginUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(username,password){var credentials,response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:credentials={username:username,password:password};console.log(credentials);_context2.next=4;return fetch('https://localhost:8080/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(credentials)});case 4:response=_context2.sent;if(response.ok){console.log('Request was made successfully.');}else{console.log('Request was not made successfully.');}return _context2.abrupt(\"return\",response.json());case 7:case\"end\":return _context2.stop();}},_callee2);}));return _loginUser.apply(this,arguments);}export default function Login(_ref){var setToken=_ref.setToken;var _useState=useState(),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUserName=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var token;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();// const status = await getServerStatus();\n// console.log(status);\n_context.next=3;return loginUser(username,password);case 3:token=_context.sent;setToken(token);case 5:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x3){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"login-wrapper\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Please Log Ins\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(e){return setUserName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"})})]})]});}","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","loginUser","_x","_x2","_loginUser","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","username","password","credentials","response","wrap","_callee2$","_context2","prev","next","console","log","fetch","method","headers","body","JSON","stringify","sent","ok","abrupt","json","stop","Login","_ref","setToken","_useState","_useState2","_slicedToArray","setUserName","_useState3","_useState4","setPassword","handleSubmit","_ref2","_callee","e","token","_callee$","_context","preventDefault","_x3","className","children","onSubmit","type","onChange","target","value"],"sources":["/home/iiitd/project/git/FCS/src/components/Login/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport './Login.css';\n\nasync function loginUser(username, password) {\n  const credentials = { username, password };\n  console.log(credentials);\n  const response = await fetch('https://localhost:8080/login', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(credentials),\n  });\n\n  if (response.ok) {\n    console.log('Request was made successfully.');\n  } else {\n    console.log('Request was not made successfully.');\n  }\n\n  return response.json();\n}\n\nexport default function Login({ setToken }) {\n  const [username, setUserName] = useState();\n  const [password, setPassword] = useState();\n  const handleSubmit = async e => {\n    e.preventDefault();\n    // const status = await getServerStatus();\n    // console.log(status);\n    const token = await loginUser(username,password);\n    setToken(token);\n  }\n\n  return(\n    <div className=\"login-wrapper\">\n      <h1>Please Log Ins</h1>\n      <form onSubmit={handleSubmit}>\n        <label>\n          <p>Username</p>\n          <input type=\"text\" onChange={e => setUserName(e.target.value)} />\n        </label>\n        <label>\n          <p>Password</p>\n          <input type=\"password\" onChange={e => setPassword(e.target.value)} />\n        </label>\n        <div>\n          <button type=\"submit\">Submit</button>\n        </div>\n      </form>\n    </div>\n    \n  )\n}\n\nLogin.propTypes = {\n  setToken: PropTypes.func.isRequired\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}