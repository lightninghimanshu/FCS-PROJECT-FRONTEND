{"ast":null,"code":"import _regeneratorRuntime from\"/home/iiitd/project/git/FCS/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _slicedToArray from\"/home/iiitd/project/git/FCS/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _asyncToGenerator from\"/home/iiitd/project/git/FCS/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useState}from'react';import'./Login.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function loginUser(_x,_x2){return _loginUser.apply(this,arguments);}function _loginUser(){_loginUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(username,password){var credentials,response,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:credentials={username:username,password:password};_context2.prev=1;_context2.next=4;return fetch('https://localhost:8080/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(credentials)});case 4:response=_context2.sent;if(response.ok){_context2.next=7;break;}throw new Error(\"Request failed with status \".concat(response.status));case 7:_context2.next=9;return response.json();case 9:data=_context2.sent;console.log('Login successful:',data);return _context2.abrupt(\"return\",data);case 14:_context2.prev=14;_context2.t0=_context2[\"catch\"](1);console.error('Login error:',_context2.t0);throw _context2.t0;case 18:case\"end\":return _context2.stop();}},_callee2,null,[[1,14]]);}));return _loginUser.apply(this,arguments);}export default function Login(_ref){var setToken=_ref.setToken;var _useState=useState(),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUserName=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var token;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return loginUser(username,password);case 3:token=_context.sent;setToken(token);case 5:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x3){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"login-wrapper\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Please Log In\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(e){return setUserName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"})})]})]});}","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","loginUser","_x","_x2","_loginUser","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","username","password","credentials","response","data","wrap","_callee2$","_context2","prev","next","fetch","method","headers","body","JSON","stringify","sent","ok","Error","concat","status","json","console","log","abrupt","t0","error","stop","Login","_ref","setToken","_useState","_useState2","_slicedToArray","setUserName","_useState3","_useState4","setPassword","handleSubmit","_ref2","_callee","e","token","_callee$","_context","preventDefault","_x3","className","children","onSubmit","type","onChange","target","value"],"sources":["/home/iiitd/project/git/FCS/src/components/Login/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport './Login.css';\n\nasync function loginUser(username, password) {\n  const credentials = { username, password };\n  \n  try {\n    const response = await fetch('https://localhost:8080/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(credentials)\n    });\n\n    if (!response.ok) {\n      throw new Error(`Request failed with status ${response.status}`);\n    }\n\n    const data = await response.json();\n    console.log('Login successful:', data);\n    return data;\n  } catch (error) {\n    console.error('Login error:', error);\n    throw error; // Re-throw the error to propagate it further if needed\n  }\n}\n\nexport default function Login({ setToken }) {\n  const [username, setUserName] = useState();\n  const [password, setPassword] = useState();\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const token = await loginUser(username,password);\n    setToken(token);\n  }\n\n  return(\n    <div className=\"login-wrapper\">\n      <h1>Please Log In</h1>\n      <form onSubmit={handleSubmit}>\n        <label>\n          <p>Username</p>\n          <input type=\"text\" onChange={e => setUserName(e.target.value)} />\n        </label>\n        <label>\n          <p>Password</p>\n          <input type=\"password\" onChange={e => setPassword(e.target.value)} />\n        </label>\n        <div>\n          <button type=\"submit\">Submit</button>\n        </div>\n      </form>\n    </div>\n    \n  )\n}\n\nLogin.propTypes = {\n  setToken: PropTypes.func.isRequired\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}